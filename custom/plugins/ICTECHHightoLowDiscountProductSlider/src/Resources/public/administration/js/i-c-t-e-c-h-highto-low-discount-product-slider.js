!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/ictechhightolowdiscountproductslider/",n(n.s="k0zO")}({"0Fzt":function(e,t,n){var o=n("YH1p");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("6b83567d",o,!0,{})},"0XQQ":function(e,t,n){var o=n("E9k8");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("52ccfbd4",o,!0,{})},BdzE:function(e,t,n){var o=n("tWT7");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("4ecd2d72",o,!0,{})},E9k8:function(e,t,n){},"N/Wp":function(e,t,n){var o=n("wj3G");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("09e09ee4",o,!0,{})},SZ7m:function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},i=0;i<t.length;i++){var c=t[i],s=c[0],r={id:e+":"+i,css:c[1],media:c[2],sourceMap:c[3]};o[s]?o[s].parts.push(r):n.push(o[s]={id:s,parts:[r]})}return n}n.r(t),n.d(t,"default",(function(){return _}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},s=i&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,d=!1,a=function(){},u=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(e,t,n,i){d=n,u=i||{};var s=o(e,t);return f(s),function(t){for(var n=[],i=0;i<s.length;i++){var r=s[i];(l=c[r.id]).refs--,n.push(l)}t?f(s=o(e,t)):s=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],o=c[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(v(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));c[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,o=document.querySelector("style["+m+'~="'+e.id+'"]');if(o){if(d)return a;o.parentNode.removeChild(o)}if(p){var i=l++;o=r||(r=g()),t=h.bind(null,o,i,!1),n=h.bind(null,o,i,!0)}else o=g(),t=S.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var w,b=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function h(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var c=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(c,s[t]):e.appendChild(c)}}function S(e,t){var n=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(m,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},YH1p:function(e,t,n){},k0zO:function(e,t,n){"use strict";n.r(t);Shopware.Component.register("sw-cms-block-discount-product-slider",{template:'{% block sw_cms_block_discount_product_slider %}\n<div class="sw-cms-block-discount-product-slider">\n    <slot name="discountProductSlider"></slot>\n</div>\n{% endblock %}\n'});n("0XQQ");Shopware.Component.register("sw-cms-preview-discount-product-slider",{template:'{% block sw_cms_block_discount_product_slider_preview %}\n<div class="sw-cms-preview-discount-product-slider">\n    <sw-icon\n        name="regular-chevron-left"\n        size="20"\n    />\n    <div class="sw-cms-preview-discount-product-slider__product-box">\n        <sw-cms-product-box-preview />\n        <sw-cms-product-box-preview />\n    </div>\n    <sw-icon\n        name="regular-chevron-right"\n        size="20"\n    />\n</div>\n{% endblock %}\n'}),Shopware.Service("cmsService").registerCmsBlock({name:"discount-product-slider",label:"sw-cms.blocks.commerce.discountProductSlider.label",category:"commerce",component:"sw-cms-block-discount-product-slider",previewComponent:"sw-cms-preview-discount-product-slider",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{discountProductSlider:"discount-product-slider"}});n("0Fzt");var o=Shopware,i=o.Component,c=o.Mixin;i.register("sw-cms-el-discount-product-slider",{template:'{% block sw_cms_element_discount_product_slider %}\n    <div\n        class="sw-cms-el-discount-product-slider"\n        :class="classes"\n        :style="verticalAlignStyle"\n    >\n        {% block sw_cms_element_discount_product_slider_title %}\n            <div\n                v-if="element.config.title.value"\n                class="sw-cms-el-discount-product-slider__title"\n            >\n                {{ element.config.title.value }}\n            </div>\n        {% endblock %}\n\n        {% block sw_cms_element_discount_product_slider_content %}\n            <div class="sw-cms-el-discount-product-slider__content">\n                {% block sw_cms_element_discount_product_slider_arrow_left %}\n                    <div\n                        v-if="hasNavigation"\n                        class="sw-cms-el-discount-product-slider__navigation"\n                    >\n                        <sw-icon\n                            class="sw-cms-el-discount-product-slider__navigation-button"\n                            name="regular-chevron-left"\n                            size="24"\n                        />\n                    </div>\n                {% endblock %}\n\n                {% block sw_cms_element_discount_product_slider_product_holder %}\n                    <div\n                        ref="productHolder"\n                        class="sw-cms-el-discount-product-slider__product-holder"\n                        :style="sliderBoxMinWidth"\n                    >\n                        <template v-if="!element.data || !element.data.products">\n                            {% block sw_cms_element_discount_product_slider_demo_data %}\n                                <sw-cms-el-product-box\n                                    v-for="index in sliderBoxLimit"\n                                    :key="index"\n                                    :element="demoProductElement"\n                                />\n                            {% endblock %}\n                        </template>\n\n                        <template v-else>\n                            {% block sw_cms_element_discount_product_slider_products %}\n                                <sw-cms-el-product-box\n                                    v-for="(product, index) in element.data.products"\n                                    v-if="index < sliderBoxLimit"\n                                    :key="product.id"\n                                    :element="getProductEl(product)"\n                                />\n                            {% endblock %}\n                        </template>\n                    </div>\n                {% endblock %}\n\n                {% block sw_cms_element_discount_product_slider_arrow_right %}\n                    <div\n                        v-if="hasNavigation"\n                        class="sw-cms-el-discount-product-slider__navigation"\n                    >\n                        <sw-icon\n                            class="sw-cms-el-discount-product-slider__navigation-button"\n                            name="regular-chevron-right"\n                            size="24"\n                        />\n                    </div>\n                {% endblock %}\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["feature"],mixins:[c.getByName("cms-element")],data:function(){return{sliderBoxLimit:3}},computed:{demoProductElement:function(){return{config:{boxLayout:{source:"static",value:this.element.config.boxLayout.value},displayMode:{source:"static",value:this.element.config.displayMode.value}},data:null}},hasNavigation:function(){return!!this.element.config.navigation.value},classes:function(){return{"has--navigation":this.hasNavigation,"has--border":!!this.element.config.border.value}},sliderBoxMinWidth:function(){return this.element.config.elMinWidth.value&&this.element.config.elMinWidth.value.indexOf("px")>-1?"repeat(auto-fit, minmax(".concat(this.element.config.elMinWidth.value,", 1fr))"):null},currentDeviceView:function(){return this.cmsPageState.currentCmsDeviceView},verticalAlignStyle:function(){return this.element.config.verticalAlign.value?"align-self: ".concat(this.element.config.verticalAlign.value,";"):null}},watch:{"element.config.elMinWidth.value":{handler:function(){this.setSliderRowLimit()}},currentDeviceView:function(){var e=this;setTimeout((function(){e.setSliderRowLimit()}),400)}},created:function(){this.createdComponent()},mounted:function(){this.mountedComponent()},methods:{createdComponent:function(){this.initElementConfig("discount-product-slider"),this.initElementData("discount-product-slider")},mountedComponent:function(){this.setSliderRowLimit()},setSliderRowLimit:function(){if("mobile"===this.currentDeviceView||this.$refs.productHolder.offsetWidth<500)this.sliderBoxLimit=1;else if(this.element.config.elMinWidth.value&&"px"!==this.element.config.elMinWidth.value&&-1!==this.element.config.elMinWidth.value.indexOf("px")){if(!(parseInt(this.element.config.elMinWidth.value.replace("px",""),10)<=0)){var e=this.$refs.productHolder.offsetWidth,t=parseInt(this.element.config.elMinWidth.value.replace("px",""),10);t>=300&&(t-=100),this.sliderBoxLimit=Math.floor(e/(t+32))}}else this.sliderBoxLimit=3},getProductEl:function(e){return{config:{boxLayout:{source:"static",value:this.element.config.boxLayout.value},displayMode:{source:"static",value:this.element.config.displayMode.value}},data:{product:e}}}}});n("N/Wp");var s=Shopware,r=s.Component,l=s.Mixin,d=Shopware.Data,a=d.Criteria,u=d.EntityCollection;r.register("sw-cms-el-config-discount-product-slider",{template:'{% block sw_cms_element_discount_product_slider_config %}\n    <div class="sw-cms-el-config-discount-product-slider">\n        {% block sw_cms_element_discount_product_slider_config_tabs %}\n            <sw-tabs\n                position-identifier="sw-cms-element-config-discount-product-slider"\n                class="sw-cms-el-config-discount-product-slider__tabs"\n                default-item="content"\n            >\n                <template slot-scope="{ active }">\n                    {% block sw_cms_element_discount_product_slider_config_tab_content %}\n                        <sw-tabs-item\n                            :title="$tc(\'sw-cms.elements.general.config.tab.content\')"\n                            name="content"\n                            :active-tab="active"\n                        >\n                            {{ $tc(\'sw-cms.elements.general.config.tab.content\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                    {% block sw_cms_element_discount_product_slider_config_tab_options %}\n                        <sw-tabs-item\n                            :title="$tc(\'sw-cms.elements.general.config.tab.settings\')"\n                            name="settings"\n                            :active-tab="active"\n                        >\n                            {{ $tc(\'sw-cms.elements.general.config.tab.settings\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                </template>\n\n                <template\n                    slot="content"\n                    slot-scope="{ active }"\n                >\n                    {% block sw_cms_element_discount_product_slider_config_content %}\n                        <sw-container\n                            v-if="active === \'content\'"\n                            class="sw-cms-el-config-discount-product-slider__tab-content"\n                        >\n                            {% block sw_cms_element_discount_product_slider_config_content_title %}\n                                <sw-field\n                                    v-model="element.config.title.value"\n                                    type="text"\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.title\')"\n                                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.title\')"\n                                />\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_content_product_assignment_type %}\n                                <sw-single-select\n                                    v-model="element.config.products.source"\n                                    class="sw-cms-el-config-discount-product-slider__product-assignment-type-select"\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.productAssignmentType\')"\n                                    :options="productAssignmentTypes"\n                                    show-clearable-button\n                                    @change="onChangeAssignmentType"\n                                />\n                            {% endblock %}\n\n                            <template v-if="element.config.products.source === \'product_stream\'">\n                                {% block sw_cms_element_discount_product_slider_config_content_product_stream_select %}\n                                    <sw-entity-single-select\n                                        v-model="element.config.products.value"\n                                        entity="product_stream"\n                                        class="sw-cms-el-config-discount-product-slider__product-stream-select"\n                                        :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamChoice\')"\n                                        :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamChoice\')"\n                                        show-clearable-button\n                                        @change="onChangeProductStream"\n                                    />\n                                {% endblock %}\n\n                                {% block sw_cms_element_discount_product_slider_config_content_product_stream_performance_hint %}\n                                    <sw-alert\n                                        class="sw-cms-el-config-discount-product-slider__product-stream-performance-hint"\n                                        variant="info"\n                                    >\n                                        {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPerformanceHint\') }}\n                                    </sw-alert>\n                                {% endblock %}\n\n                                {% block sw_cms_element_discount_product_slider_config_content_product_stream_preview %}\n                                    <sw-modal\n                                        v-if="showProductStreamPreview"\n                                        :title="productStream.name"\n                                        class="sw-cms-el-config-discount-product-slider__product-stream-preview-modal"\n                                        @modal-close="onCloseProductStreamModal"\n                                    >\n                                        {% block sw_cms_element_discount_product_slider_config_content_product_stream_preview_grid %}\n                                            <sw-product-stream-grid-preview\n                                                :filters="productStream.apiFilter"\n                                                :columns="productStreamPreviewColumns"\n                                                :criteria="productStreamCriteria"\n                                            />\n                                        {% endblock %}\n                                        <template #modal-footer>\n                                            {% block sw_cms_element_discount_product_slider_config_content_product_stream_preview_action_close %}\n                                                <sw-button\n                                                    size="small"\n                                                    @click="onCloseProductStreamModal"\n                                                >\n                                                    {{ $tc(\'global.sw-modal.labelClose\') }}\n                                                </sw-button>\n                                            {% endblock %}\n                                        </template>\n                                    </sw-modal>\n                                {% endblock %}\n\n                                <sw-container\n                                    columns="1fr 1fr"\n                                    gap="30px"\n                                >\n                                    {% block sw_cms_element_discount_product_slider_config_content_product_stream_sorting %}\n                                        <sw-single-select\n                                            v-model="element.config.productStreamSorting.value"\n                                            :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamSorting\')"\n                                            class="sw-cms-el-config-discount-product-slider__product-stream-sorting"\n                                            :disabled="!productStream"\n                                            :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.productStreamSorting\')"\n                                            :options="productStreamSortingOptions"\n                                            show-clearable-button\n                                        />\n                                    {% endblock %}\n\n                                    {% block sw_cms_element_discount_product_slider_config_content_product_stream_limit %}\n                                        <sw-number-field\n                                            v-model="element.config.productStreamLimit.value"\n                                            :label="$tc(\'sw-cms.elements.productSlider.config.label.productStreamLimit\')"\n                                            class="sw-cms-el-config-discount-product-slider__product-stream-limit"\n                                            :disabled="!productStream"\n                                            :min="1"\n                                        />\n                                    {% endblock %}\n                                </sw-container>\n\n                                {% block sw_cms_element_discount_product_slider_config_content_product_stream_preview_link %}\n                                    <div class="sw-cms-el-config-discount-product-slider__product-stream-preview-link-container">\n                                        <a\n                                            class="sw-cms-el-config-discount-product-slider__product-stream-preview-link link"\n                                            :class="{ \'is--disabled\': !productStream }"\n                                            href="#"\n                                            @click.prevent="onClickProductStreamPreview"\n                                        >\n                                            {{ $tc(\'sw-cms.elements.productSlider.config.textProductStreamPreviewLink\') }}\n                                            <sw-icon\n                                                name="regular-long-arrow-right"\n                                                small\n                                            />\n                                        </a>\n                                    </div>\n                                {% endblock %}\n                            </template>\n\n                            {% block sw_cms_element_discount_product_slider_config_content_products %}\n                                <sw-entity-multi-select\n                                    v-else\n                                    v-model="productCollection"\n                                    class="sw-cms-el-config-discount-product-slider__products"\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.selection\')"\n                                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.selection\')"\n                                    :context="productMultiSelectContext"\n                                    :criteria="productMediaFilter"\n                                    @change="onProductsChange"\n                                >\n                                    <template #selection-label-property="{ item }">\n                                        <sw-product-variant-info\n                                            :variations="item.variation"\n                                        >\n                                            {{ item.translated.name || item.name }}\n                                        </sw-product-variant-info>\n                                    </template>\n                                    <template #result-item="{ item, index }">\n                                        <slot\n                                            name="result-item"\n                                            v-bind="{ item, index }"\n                                        >\n                                            <li\n                                                is="sw-select-result"\n                                                v-bind="{ item, index, selected: isSelected(item.id)}"\n                                            >\n                                                {% block sw_entity_single_select_base_results_list_result_label %}\n                                                    <span class="sw-select-result__result-item-text">\n                                    <sw-product-variant-info\n                                        :variations="item.variation"\n                                    >\n                                        {{ item.translated.name || item.name }}\n                                    </sw-product-variant-info>\n                                </span>\n                                                {% endblock %}\n                                            </li>\n                                        </slot>\n                                    </template>\n                                </sw-entity-multi-select>\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n\n                    {% block sw_cms_element_discount_product_slider_config_settings %}\n                        <sw-container\n                            v-if="active === \'settings\'"\n                            class="sw-cms-el-config-discount-product-slider__tab-settings"\n                        >\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_display_mode %}\n                                <sw-select-field\n                                    v-model="element.config.displayMode.value"\n                                    :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\n                                >\n                                    <option value="standard">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}\n                                    </option>\n                                    <option value="cover">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeCover\') }}\n                                    </option>\n                                    <option value="contain">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.displayModeContain\') }}\n                                    </option>\n                                </sw-select-field>\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_vertical_align %}\n                                <sw-select-field\n                                    v-model="element.config.verticalAlign.value"\n                                    :label="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                    :placeholder="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                >\n                                    <option value="flex-start">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignTop\') }}\n                                    </option>\n                                    <option value="center">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignCenter\') }}\n                                    </option>\n                                    <option value="flex-end">\n                                        {{ $tc(\'sw-cms.elements.general.config.label.verticalAlignBottom\') }}\n                                    </option>\n                                </sw-select-field>\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_box_layout %}\n                                <sw-select-field\n                                    v-model="element.config.boxLayout.value"\n                                    :label="$tc(\'sw-cms.elements.productBox.config.label.layoutType\')"\n                                >\n                                    <option value="standard">\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeStandard\') }}\n                                    </option>\n                                    <option value="image">\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeImage\') }}\n                                    </option>\n                                    <option value="minimal">\n                                        {{ $tc(\'sw-cms.elements.productBox.config.label.layoutTypeMinimal\') }}\n                                    </option>\n                                </sw-select-field>\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_navigation %}\n                                <sw-field\n                                    v-model="element.config.navigation.value"\n                                    type="switch"\n                                    bordered\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.navigation\')"\n                                />\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_rotate %}\n                                <sw-field\n                                    v-model="element.config.rotate.value"\n                                    type="switch"\n                                    bordered\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.rotate\')"\n                                />\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_border %}\n                                <sw-field\n                                    v-model="element.config.border.value"\n                                    type="switch"\n                                    bordered\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.border\')"\n                                />\n                            {% endblock %}\n\n                            {% block sw_cms_element_discount_product_slider_config_settings_min_width %}\n                                <sw-field\n                                    v-model="element.config.elMinWidth.value"\n                                    type="text"\n                                    :label="$tc(\'sw-cms.elements.productSlider.config.label.minWidth\')"\n                                    :placeholder="$tc(\'sw-cms.elements.productSlider.config.placeholder.minWidth\')"\n                                />\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n                </template>\n            </sw-tabs>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","feature"],mixins:[l.getByName("cms-element")],data:function(){return{productCollection:null,productStream:null,showProductStreamPreview:!1,tempProductIds:[],tempStreamId:null}},computed:{productRepository:function(){return this.repositoryFactory.create("product")},productStreamRepository:function(){return this.repositoryFactory.create("product_stream")},products:function(){var e,t;return null!==(e=this.element)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.products&&this.element.data.products.length>0?this.element.data.products:null},productMediaFilter:function(){var e=new a(1,25);return e.addAssociation("cover"),e.addAssociation("options.group"),e},productMultiSelectContext:function(){var e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e},productAssignmentTypes:function(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.manual"),value:"static"},{label:this.$tc("sw-cms.elements.productSlider.config.productAssignmentTypeOptions.productStream"),value:"product_stream"}]},productStreamSortingOptions:function(){return[{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameAsc"),value:"name:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.nameDesc"),value:"name:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateAsc"),value:"createdAt:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.creationDateDesc"),value:"createdAt:DESC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.random"),value:"random"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceAsc"),value:"cheapestPrice:ASC"},{label:this.$tc("sw-cms.elements.productSlider.config.productStreamSortingOptions.priceDesc"),value:"cheapestPrice:DESC"}]},productStreamCriteria:function(){var e=new a(1,10),t=this.element.config.productStreamSorting.value;if(!t||"random"===t)return e;var n=t.split(":")[0],o=t.split(":")[1];return e.addSorting(a.sort(n,o,!1)),e},productStreamPreviewColumns:function(){return[{property:"name",label:this.$tc("sw-category.base.products.columnNameLabel"),dataIndex:"name",sortable:!1},{property:"manufacturer.name",label:this.$tc("sw-category.base.products.columnManufacturerLabel"),sortable:!1}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;if(this.initElementConfig("discount-product-slider"),this.productCollection=new u("/product","product",Shopware.Context.api),!(this.element.config.products.value.length<=0))if("product_stream"===this.element.config.products.source)this.loadProductStream();else{var t=new a(1,100);t.addAssociation("cover"),t.addAssociation("options.group"),t.setIds(this.element.config.products.value),this.productRepository.search(t,Object.assign({},Shopware.Context.api,{inheritance:!0})).then((function(t){e.productCollection=t}))}},onChangeAssignmentType:function(e){"product_stream"===e?(this.tempProductIds=this.element.config.products.value,this.element.config.products.value=this.tempStreamId):(this.tempStreamId=this.element.config.products.value,this.element.config.products.value=this.tempProductIds)},loadProductStream:function(){var e=this;this.productStreamRepository.get(this.element.config.products.value,Shopware.Context.api,new a(1,25)).then((function(t){e.productStream=t}))},onChangeProductStream:function(e){null!==e?this.loadProductStream():this.productStream=null},onClickProductStreamPreview:function(){null!==this.productStream&&(this.showProductStreamPreview=!0)},onCloseProductStreamModal:function(){this.showProductStreamPreview=!1},onProductsChange:function(){var e;this.element.config.products.value=this.productCollection.getIds(),null!==(e=this.element)&&void 0!==e&&e.data&&this.$set(this.element.data,"products",this.productCollection)},isSelected:function(e){return this.productCollection.has(e)}}});n("BdzE");Shopware.Component.register("sw-cms-el-preview-discount-product-slider",{template:'{% block sw_cms_element_discount_product_slider_preview %}\n<div class="sw-cms-el-preview-discount-product-slider">\n    <sw-icon\n        name="regular-chevron-left"\n        size="10"\n    />\n    <sw-cms-product-box-preview :has-text="false" />\n    <sw-icon\n        name="regular-chevron-right"\n        size="10"\n    />\n</div>\n{% endblock %}\n'});var m=new(0,Shopware.Data.Criteria)(1,25);m.addAssociation("cover"),Shopware.Service("cmsService").registerCmsElement({name:"discount-product-slider",label:"sw-cms.elements.discountProductSlider.label",component:"sw-cms-el-discount-product-slider",configComponent:"sw-cms-el-config-discount-product-slider",previewComponent:"sw-cms-el-preview-discount-product-slider",defaultConfig:{products:{source:"static",value:[],required:!0,entity:{name:"product",criteria:m}},title:{source:"static",value:""},displayMode:{source:"static",value:"standard"},boxLayout:{source:"static",value:"standard"},navigation:{source:"static",value:!0},rotate:{source:"static",value:!1},border:{source:"static",value:!1},elMinWidth:{source:"static",value:"300px"},verticalAlign:{source:"static",value:null},productStreamSorting:{source:"static",value:"name:ASC"},productStreamLimit:{source:"static",value:10}},collect:Shopware.Service("cmsService").getCollectFunction()})},tWT7:function(e,t,n){},wj3G:function(e,t,n){}});