{% set ActiveInactive = config('ICTECHHightoLowDiscountProductSlider.config.ActiveInactive',context.salesChannel.id) %}
{% block element_discount_product_slider %}
    {% if ActiveInactive == true %}
        {% if not sliderConfig %}
            {% set sliderConfig = element.data.products %}
        {% endif %}
        {% if element.data.products %}
            <div
                class="cms-element-{{ element.type }}{% if sliderConfig.displayMode.value == "standard" and sliderConfig.verticalAlign.value %} has-vertical-alignment{% endif %}">
                {% block element_discount_product_slider_alignment %}
                    {% if config.verticalAlign.value %}
                        <div class="cms-element-alignment{% if sliderConfig.verticalAlign.value == "center" %} align-self-center{% elseif sliderConfig.verticalAlign.value == "flex-end" %} align-self-end{% else %} align-self-start{% endif %}">
                    {% endif %}

                    {% set productSliderOptions = {
                        productboxMinWidth: sliderConfig.elMinWidth.value ? sliderConfig.elMinWidth.value : '',
                        slider: {
                            gutter: 30,
                            autoplayButtonOutput: false,
                            nav: false,
                            mouseDrag: sliderConfig.navigation.value ? false : true,
                            controls: sliderConfig.navigation.value ? true : false,
                            autoplay: sliderConfig.rotate.value ? true : false
                        }
                    } %}

                    {% block cms_element_discount_product_slider_tabs_content %}
                        <div class="product-detail-tabs-content card-body">
                            {% block cms_element_discount_product_slider_tabs_content_container %}
                                <div class="tab-content">
                                    {% set products = element.data.products %}
                                    <div class=""
                                         role="tabpanel"
                                         aria-labelledby="cross-selling-tab-">
                                        {% set config = {
                                            'title': {
                                                'value': element.data.configElements.elements.sliderTitle.value ?: element.data.configElements.elements.sliderTitle.value
                                            },
                                            'border': {
                                                'value': false
                                            },
                                            'rotate': {
                                                'value': false
                                            },
                                            'products': {
                                                'value': products
                                            },
                                            'boxLayout': {
                                                'value': element.data.configElements.elements.boxLayout.value
                                            },
                                            'elMinWidth': {
                                                'value': element.data.configElements.elements.elMinWidth.value
                                            },
                                            'navigation': {
                                                'value': true
                                            },
                                            'displayMode': {
                                                'value': element.data.configElements.elements.displayMode.value
                                            },
                                            'verticalAlign': {
                                                'value': center
                                            }
                                        } %}

                                        {% block cms_element_discount_product_slider_tabs_content_container_slider %}
                                            {% sw_include "@Storefront/storefront/element/cms-element-product-slider.html.twig" with {
                                                sliderConfig: config,
                                                element: {
                                                    'data': {
                                                        'products': {
                                                            'elements': products,
                                                        },
                                                    },
                                                    type: 'product-slider'
                                                }
                                            } %}
                                        {% endblock %}
                                    </div>
                                </div>
                            {% endblock %}
                        </div>
                    {% endblock %}
                    {% if config.verticalAlign.value %}
                        </div>
                    {% endif %}
                {% endblock %}
            </div>
        {% endif %}
    {% endif %}
{% endblock %}
